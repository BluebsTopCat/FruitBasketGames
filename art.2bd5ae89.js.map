{"mappings":"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","sources":["src/art.tsx","src/ArtGrid/ArtGrid.tsx","src/ArtGrid/GridRow.tsx","src/ArtGrid/ArtItem.tsx","src/ArtGrid/items.ts","src/ArtGrid/Popup.tsx"],"sourcesContent":["import { h, render } from \"preact\";\r\nimport { ArtGrid } from \"./ArtGrid/ArtGrid\";\r\n\r\nrender(<ArtGrid />, document.getElementById(\"art-grid-root\") as Element);\r\n","import { Component, ComponentChild, h } from \"preact\";\r\nimport { ArtGridRow } from \"./GridRow\";\r\nimport { ArtGridItem, items, ItemType } from \"./items\";\r\nimport { Popup } from \"./Popup\";\r\n\r\nexport interface ArtGridItemIndexed {\r\n    index: number;\r\n    type: ItemType;\r\n    title: string;\r\n    description: string;\r\n    link?: string;\r\n    url: string;\r\n}\r\n\r\ninterface ArtGridState {\r\n    popupVisible: boolean;\r\n    popupIndex: number;\r\n}\r\n\r\nexport class ArtGrid extends Component {\r\n    state: ArtGridState;\r\n    \r\n    constructor() {\r\n        super();\r\n        \r\n        this.state = {\r\n            popupVisible: false,\r\n            popupIndex: 0\r\n        };\r\n    }\r\n    \r\n    showPopup = (itemIndex: number) => {\r\n        this.setState({\r\n            popupVisible: true,\r\n            popupIndex: itemIndex\r\n        });\r\n    }\r\n    \r\n    hidePopup = () => {\r\n        this.setState({\r\n            popupVisible: false\r\n        });\r\n    }\r\n    \r\n    render(props: any, state: any, context: any): ComponentChild {\r\n        var pairs: Array<Array<ArtGridItemIndexed>> = [];\r\n        \r\n        for (var i = 0; i < items.length; i += 2) {\r\n            let one = items[i] as any;\r\n            one.index = i;\r\n            \r\n            let two = items[i + 1] as any;\r\n            two.index = i + 1;\r\n            \r\n            pairs.push([one, two]);\r\n        }\r\n        \r\n        if (this.state.popupVisible) {\r\n            document.body.style.overflow = \"hidden\";\r\n        } else {\r\n            document.body.style.overflow = \"scroll\";\r\n        }\r\n        \r\n        return (\r\n        <span>\r\n            <Popup artGridRef={this} visible={this.state.popupVisible} index={this.state.popupIndex} />\r\n            \r\n            <div class=\"art-grid\">\r\n                { pairs.map((pair) => (\r\n                    <ArtGridRow artGridRef={this} item1={pair[0]} item2={pair[1]} />\r\n                )) }\r\n            </div>\r\n        </span>\r\n        );\r\n    }\r\n}\r\n","import { Component, ComponentChild, createRef, h, RefObject } from \"preact\";\r\nimport { ArtGrid, ArtGridItemIndexed } from \"./ArtGrid\";\r\nimport { ArtItem } from \"./ArtItem\";\r\nimport { ArtGridItem, ItemType } from \"./items\";\r\n\r\nconst ITEM_PADDING = 8;\r\n\r\ninterface ArtGridRowProps {\r\n    artGridRef: ArtGrid;\r\n    item1: ArtGridItemIndexed;\r\n    item2: ArtGridItemIndexed;\r\n}\r\n\r\ninterface ArtGridRowState {\r\n    windowInnerWidth: number;\r\n}\r\n\r\nexport class ArtGridRow extends Component<ArtGridRowProps> {\r\n    state: ArtGridRowState;\r\n    \r\n    thisRootRef: RefObject<HTMLDivElement>;\r\n    \r\n    item1ref: RefObject<ArtItem>;\r\n    item2ref: RefObject<ArtItem>;\r\n    \r\n    constructor() {\r\n        super();\r\n        \r\n        this.thisRootRef = createRef();\r\n        \r\n        this.item1ref = createRef();\r\n        this.item2ref = createRef();\r\n        \r\n        this.state = {\r\n            windowInnerWidth: window.innerWidth\r\n        };\r\n        \r\n        window.addEventListener(\"resize\", this.resize);\r\n    }\r\n    \r\n    resize = () => {\r\n        if (this.item1ref.current && this.item2ref.current) {\r\n            var i1 = this.item1ref.current;\r\n            var i2 = this.item2ref.current;\r\n            \r\n            \r\n            /*\r\n            total width = (rendered height * el1 width/height ratio) + (rendered height * el2 width/height ratio) + ... + padding\r\n            therefore,\r\n            rendered height = (total width - padding) / (el1 width/height ratio + el2 width/height ratio + ...)\r\n            */\r\n            \r\n            var totalWidth = 1;\r\n            \r\n            if (this.thisRootRef.current) {\r\n                totalWidth = this.thisRootRef.current.clientWidth;\r\n            }\r\n            \r\n            if (window.innerWidth > 1184) {\r\n                // desktop version\r\n                \r\n                var denom = (i1.contentWidth / i1.contentHeight) + (i2.contentWidth / i2.contentHeight);\r\n                \r\n                var h = 1;\r\n                \r\n                if (denom > 0) {\r\n                    h = (totalWidth - ITEM_PADDING) / denom;\r\n                }\r\n                \r\n                var w = i1.contentWidth * (h / i1.contentHeight);\r\n                \r\n                i1.setRenderedSize(w, h);\r\n                i2.setRenderedSize(totalWidth - w - ITEM_PADDING, h);\r\n                \r\n            } else {\r\n                // mobile version\r\n                \r\n                var eh1 = i1.contentHeight * (totalWidth / i1.contentWidth);\r\n                \r\n                i1.setRenderedSize(totalWidth, eh1);\r\n                \r\n                var eh2 = i2.contentHeight * (totalWidth / i2.contentWidth);\r\n                \r\n                i2.setRenderedSize(totalWidth, eh2);\r\n            }\r\n        }\r\n        \r\n        if (this.state.windowInnerWidth > 1184 && window.innerWidth <= 1184) {\r\n            this.setState({\r\n                windowInnerWidth: window.innerWidth\r\n            });\r\n        } else if (this.state.windowInnerWidth <= 1184 && window.innerWidth > 1184) {\r\n            this.setState({\r\n                windowInnerWidth: window.innerWidth\r\n            });\r\n        }\r\n    }\r\n    \r\n    render(props: ArtGridRowProps, state: any, context: any): ComponentChild {\r\n        return (\r\n        <div ref={this.thisRootRef} class=\"art-grid-row\">\r\n            <ArtItem artGridRef={props.artGridRef} ref={this.item1ref} item={props.item1} width={0} height={0} resizeCallback={this.resize} />\r\n            <ArtItem artGridRef={props.artGridRef} ref={this.item2ref} item={props.item2} width={0} height={0} resizeCallback={this.resize} marginLeft={window.innerWidth > 1184 ? ITEM_PADDING: 0} />\r\n        </div>\r\n        );\r\n    }\r\n}\r\n","import { Component, ComponentChild, createRef, h, RefObject } from \"preact\";\r\nimport { ArtGrid, ArtGridItemIndexed } from \"./ArtGrid\";\r\nimport { ArtGridItem, ItemType } from \"./items\";\r\n\r\nconst CHECK_LOADED_TIMEOUT = 125;\r\n\r\ninterface ArtItemProps {\r\n    artGridRef: ArtGrid;\r\n    item: ArtGridItemIndexed;\r\n    width: number;\r\n    height: number;\r\n    resizeCallback: Function;\r\n    marginLeft?: number;\r\n}\r\n\r\nexport class ArtItem extends Component<ArtItemProps> {\r\n    name: string;\r\n    \r\n    resizeCallback: Function;\r\n    \r\n    contentWidth: number;\r\n    contentHeight: number;\r\n    \r\n    imageRef: RefObject<HTMLImageElement>;\r\n    videoRef: RefObject<HTMLVideoElement>;\r\n    \r\n    constructor(props: ArtItemProps) {\r\n        super(props);\r\n        \r\n        this.name = props.item.title;\r\n        \r\n        this.resizeCallback = props.resizeCallback;\r\n        \r\n        this.contentWidth = 0;\r\n        this.contentHeight = 0;\r\n        \r\n        this.imageRef = createRef();\r\n        this.videoRef = createRef();\r\n    }\r\n    \r\n    // callback is sketchy and doesnt work much of the time\r\n    checkLoaded = () => {\r\n        if (this.imageRef.current) {\r\n            if (this.imageRef.current.naturalWidth) {\r\n                this.onLoad();\r\n            } else {\r\n                setTimeout(this.checkLoaded, CHECK_LOADED_TIMEOUT);\r\n            }\r\n        } else if (this.videoRef.current) {\r\n            if (this.videoRef.current.width) {\r\n                this.onLoad();\r\n            } else {\r\n                setTimeout(this.checkLoaded, CHECK_LOADED_TIMEOUT);\r\n            }\r\n        }\r\n    }\r\n    \r\n    onLoad = () => {\r\n        if (this.imageRef.current) {\r\n            this.contentWidth = this.imageRef.current.naturalWidth;\r\n            this.contentHeight = this.imageRef.current.naturalHeight;\r\n        } else if (this.videoRef.current) {\r\n            this.contentWidth = this.videoRef.current.videoWidth;\r\n            this.contentHeight = this.videoRef.current.videoHeight;\r\n        }\r\n        \r\n        this.resizeCallback();\r\n    }\r\n    \r\n    componentDidMount() {\r\n        if (this.imageRef.current) {\r\n            this.imageRef.current.addEventListener(\"onload\", () => {\r\n                this.onLoad();\r\n            });\r\n            \r\n            if (this.imageRef.current.naturalWidth) {\r\n                this.contentWidth = this.imageRef.current.naturalWidth;\r\n                this.contentHeight = this.imageRef.current.naturalHeight;\r\n            }\r\n        } else if (this.videoRef.current) {\r\n            this.videoRef.current.addEventListener(\"loadedmetadata\", () => {\r\n                this.onLoad();\r\n            });\r\n            \r\n            if (this.videoRef.current.width) {\r\n                this.contentWidth = this.videoRef.current.videoWidth;\r\n                this.contentHeight = this.videoRef.current.videoHeight;\r\n            }\r\n        }\r\n        \r\n        // callback is sketchy and doesnt work much of the time\r\n        setTimeout(this.checkLoaded, CHECK_LOADED_TIMEOUT);\r\n    }\r\n    \r\n    setRenderedSize = (w: number, h: number) => {\r\n        if (this.imageRef.current) {\r\n            this.imageRef.current.width = w;\r\n            this.imageRef.current.height = h;\r\n        } else if (this.videoRef.current) {\r\n            this.videoRef.current.width = w;\r\n            this.videoRef.current.height = h;\r\n        }\r\n    }\r\n    \r\n    render(props: ArtItemProps, state: any, context: any): ComponentChild {\r\n        return (\r\n        <div class=\"art-item\" style={props.marginLeft ? `left: ${props.marginLeft}px` : \"\"}>\r\n            <div class=\"art-item-cover\" onClick={() => { props.artGridRef.showPopup(props.item.index); }}>\r\n                <p>{props.item.title}</p>\r\n            </div>\r\n            \r\n            { props.item.type == ItemType.Image ?\r\n            <img ref={this.imageRef} src={props.item.url} alt={props.item.title} width={props.width} height={props.height}></img>\r\n            :\r\n            <video ref={this.videoRef} muted={true} autoPlay={true} loop={true} width={props.width} height={props.height}>\r\n                <source src={props.item.url}></source>\r\n            </video>\r\n            }\r\n        </div>\r\n        );\r\n    }\r\n}\r\n","\r\nexport enum ItemType {\r\n    Image,\r\n    Video\r\n}\r\n\r\nexport interface ArtGridItem {\r\n    type: ItemType;\r\n    title: string;\r\n    description: string;\r\n    link?: string;\r\n    url: string;\r\n}\r\n\r\nexport const items: Array<ArtGridItem> = [\r\n    {\r\n        type: ItemType.Video,\r\n        title: \"Starfarer\",\r\n        description: \"<b>3d Digital Media</b>\\nJuly 2022\\n<i>Independent Work</i>\\n\\nCharacter modelling and rigging practice, with an added cel shaded twist!\",\r\n        url: \"res/art/starfarer.webm\"\r\n    },\r\n    {\r\n        type: ItemType.Video,\r\n        title: \"Church of the forgotten\",\r\n        description: \"<b>3d Digital Media \\ Music</b>\\nJanuary 2023\\n<i>Independent Work</i>\\n\\n Made in blender, with music composed in FL studio\",\r\n        url: \"res/art/Temple.mp4\"\r\n    },\r\n    {\r\n        type: ItemType.Image,\r\n        title: \"Mage\",\r\n        description: \"<b>3d Digital Media</b>\\nAugust 2022\\n<i>Independent Work</i>\\n\\nA mysterious alchemist hones her craft, made in Blender\",\r\n        url: \"res/art/Render4.png\"\r\n    },\r\n    {\r\n        type: ItemType.Video,\r\n        title: \"Lupe\",\r\n        description: \"<b>3d Digital Media</b>\\nOctober 2022\\n<i>Independent Work</i>\\n\\nA 3d model of Lupe from the webcomic Four Leaf!\",\r\n        url: \"res/art/LupeFourLeaf.webm\"\r\n    },\r\n    {\r\n        type: ItemType.Video,\r\n        title: \"Freefalling\",\r\n        description: \"<b>3d Digital Media</b>\\nSeptember 2022\\n<i>Independent Work</i>\\n\\nFalling from the skyline.\",\r\n        url: \"res/art/Falling.mp4\"\r\n    },\r\n    {\r\n        type: ItemType.Image,\r\n        title: \"Tourism Poster\",\r\n        description: \"<b>3d Digital Media</b>\\nDecember 2022\\n<i>Independent Work</i>\\n\\nExplore the woods of BC! Made in Blender\",\r\n        url: \"res/art/TourismposterBC.png\"\r\n    },\r\n    {\r\n        type: ItemType.Video,\r\n        title: \"Flying House\",\r\n        description: \"<b>3d Digital Media</b>\\nOctober 2020\\n<i>Independent Work</i>\\n\\nAn attempt to recreate the aesthetic of Hayao Miyazaki in a different medium.\",\r\n        url: \"res/art/flyinghouse.webm\"\r\n    },\r\n    {\r\n        type: ItemType.Video,\r\n        title: \"Research In Progress\",\r\n        description: \"<b>3d Digital Media</b>\\nDecember 2021\\n<i>Fruit Basket Games</i>\\n\\nRESEARCH 9.67% COMPLETE...\",\r\n        url: \"res/art/Research.webm\"\r\n    },\r\n    {\r\n        type: ItemType.Video,\r\n        title: \"Windmill Aisle\",\r\n        description: \"<b>3d Digital Media</b>\\nDecember 2022\\n<i>Independent Work</i>\\n\\nWork on a stylized unity game about delivering packages in a huge sea.\",\r\n        url: \"res/art/WindmillAisle.mp4\"\r\n    },\r\n    {\r\n        type: ItemType.Image,\r\n        title: \"Shopkeep\",\r\n        description: \"<b>2d Digital Media</b>\\nOctober 2022\\n<i>Independent Work</i>\\n\\n'What'll it be?' Made in Aseprite\",\r\n        url: \"res/art/shopkeep.png\"\r\n    },\r\n    {\r\n        type: ItemType.Video,\r\n        title: \"Island Diorama\",\r\n        description: \"<b>3d Digital Media</b>\\nMay 2022\\n<i>Independent Work</i>\\n\\nAn island in the void\",\r\n        url: \"res/art/island.webm\"\r\n    },\r\n    {\r\n        type: ItemType.Image,\r\n        title: \"Science Fiction Fantasy Alliance\",\r\n        description: \"<b>2d Digital Media</b>\\nApril 2022\\n<i>SFFA</i>\\n\\n I designed and organized a group of members of reddit to place this design on https://reddit.com/r/place, an art experiment in which each user could place one pixel on a grid every 5 minutes. our work turned out to be one of the largest there was!\",\r\n        url: \"res/art/sticker.webp\"\r\n    },\r\n    {\r\n        type: ItemType.Image,\r\n        title: \"Basic Lands\",\r\n        description: \"<b>2d Digital Media</b>\\nJune 2022\\n<i>Independent Work</i>\\n\\nA set of custom cards designed to function in the card game 'Magic the Gathering'\",\r\n        url: \"res/art/mtglands.webp\"\r\n    },\r\n    {\r\n        type: ItemType.Image,\r\n        title: \"HookCat Logo\",\r\n        description: \"<b>2d Digital Media</b>\\nJune 2021\\n<i>Transcendent Games</i>\\n\\nThis work is the cover for 'HookCat', a noir inspired puzzle game made in 48 hours for the GMTK game jam.\",\r\n        link: \"https://indiegesindel.itch.io/hookcat\",\r\n        url: \"res/art/hookcat.webp\"\r\n    },\r\n    {\r\n        type: ItemType.Image,\r\n        title: \"Flumph\",\r\n        description: \"<b>2d Digital Media</b>\\nJune 2022\\n<i>Independent Work</i>\\n\\nAnother custom art card, this time of 'Flumph', from Magic the Gathering\",\r\n        url: \"res/art/flumph.webp\"\r\n    },\r\n    {\r\n        type: ItemType.Image,\r\n        title: \"Map of Cavdra\",\r\n        description: \"<b>2d Digital Media</b>\\nMarch 2022\\n<i>Independent Work</i>\\n\\nThe map of a mysterious island in the pacific.\",\r\n        url: \"res/art/map.webp\"\r\n    },\r\n    {\r\n        type: ItemType.Video,\r\n        title: \"Short Fuse\",\r\n        description: \"<b>3d Digital Media</b>\\nSeptember 2021\\n<i>Independent Work</i>\\n\\nAn explosive-tempered character. Original sketch by Miles R.\",\r\n        url: \"res/art/bombdude.webm\"\r\n    },\r\n    {\r\n        type: ItemType.Video,\r\n        title: \"Pressing Buttons\",\r\n        description: \"<b>3d Digital Media</b>\\nFebuary 2021\\n<i>Chargeman Ken Reanimated!</i>\\n\\nA scene from Chargeman Ken, a notoriously bad show from the 1980s. This was for \\\"Chargeman Ken Reanimated\\\" in which 100 animators attempted to remake one episode.\",\r\n        url: \"res/art/pushingbutton.webm\"\r\n    },\r\n    {\r\n        type: ItemType.Image,\r\n        title: \"Univerra\",\r\n        description: \"<b>2d Digital Media</b>\\nSeptember 2021\\n<i>StorkLabs</i>\\n\\nI did a full overhaul of the artwork of Univerra. A tactical Civ-like centered around 30 minute games on your phone.\",\r\n        link: \"https://play.google.com/store/apps/details?id=io.storklabs.Univerra\",\r\n        url: \"res/art/univerra.webp\"\r\n    },\r\n    {\r\n        type: ItemType.Video,\r\n        title: \"Fireplace\",\r\n        description: \"<b>3d Digital Media</b>\\nDecember 2019\\n<i>Independent Work</i>\\n\\nA blue hearth, burning with a mysterious wood. Made for OS3D\",\r\n        link: \"https://gamejolt.com/games/Oneshot3d/463026\",\r\n        url: \"res/art/fireplace.webm\"\r\n    },\r\n    {\r\n        type: ItemType.Video,\r\n        title: \"Fruit Basket Games Logo\",\r\n        description: \"<b>2d Digital Media</b>\\nJanuary 2021\\n<i>Fruit Basket Games</i>\\n\\nFBG is what I publish most of my solo work under.\",\r\n        url: \"res/art/fbloop.webm\"\r\n    },\r\n    {\r\n        type: ItemType.Video,\r\n        title: \"Found Footage\",\r\n        description: \"<b>3d Digital Media</b>\\nMarch 2022\\n<i>Independent Work</i>\\n\\nA spooky video of a moving obelisk, made in blender.\",\r\n        url: \"res/art/wtf.webm\"\r\n    },\r\n    {\r\n        type: ItemType.Image,\r\n        title: \"Skyline\",\r\n        description: \"<b>2d Digital Media</b>\\nAugust 2021\\n<i>Independent Work</i>\\n\\nA cloudy night sky, the moon just peaking over the mist.\",\r\n        url: \"res/art/skyline2big.webp\"\r\n    },\r\n    {\r\n        type: ItemType.Video,\r\n        title: \"Hostile Machinery\",\r\n        description: \"<b>3d Digital Media</b>\\nNovember 2021\\n<i>Independent Work</i>\\n\\nThis work shows an autonomous weapon, made to experiment with shape keys.\",\r\n        url: \"res/art/Turrett.webm\"\r\n    },\r\n    {\r\n        type: ItemType.Video,\r\n        title: \"Syco Corp\",\r\n        description: \"<b>2d Digital Media</b>\\nSeptember 2021\\n<i>Independent Work</i>\\n\\nHere at Syco Corp, we pledge to absolutely NEVER make killer robots\",\r\n        url: \"res/art/sycocorp.webm\"\r\n    },\r\n    {\r\n        type: ItemType.Image,\r\n        title: \"Transcendent Games Logo\",\r\n        description: \"<b>3d Digital Media</b>\\nMay 2021\\n<i>Transcendent Games</i>\\n\\nThis logo is for <i>Transcendent Games</i>, a group I've been working with as the artist for a year now.\",\r\n        url: \"res/art/transcendentgames.webp\"\r\n    },\r\n    {\r\n        type: ItemType.Image,\r\n        title: \"Assorted Ghouls\",\r\n        description: \"<b>3d Digital Media</b>\\nSeptember 2021\\n<i>Transcendent Games</i>\\n\\nAssorted ghosts and ghouls that roam the halls of a haunted mansion.\",\r\n        url: \"res/art/theghostsarebackintown.webp\"\r\n    },\r\n    {\r\n        type: ItemType.Image,\r\n        title: \"Blueberry\",\r\n        description: \"<b>2d Digital Media</b>\\nJanuary 2021\\n<i>Independent Work</i>\\n\\nA Sentient fruit.\",\r\n        url: \"res/art/blueberry.webp\"\r\n    }\r\n   \r\n]\r\n","import { Component, ComponentChild, createRef, h, RefObject } from \"preact\";\r\nimport { ArtGrid } from \"./ArtGrid\";\r\nimport { items, ItemType } from \"./items\";\r\n\r\nconst MOUSE_MOTION_TIMEOUT = 4000;\r\nconst CHECK_MOUSE_MOTION_INTERVAL = 50;\r\n\r\ninterface PopupProps {\r\n    artGridRef: ArtGrid;\r\n    visible: boolean;\r\n    index: number;\r\n}\r\n\r\nexport class Popup extends Component<PopupProps> {\r\n    artGridRef: ArtGrid;\r\n    visible: boolean;\r\n    index: number;\r\n    \r\n    itemRefs: Array<RefObject<HTMLDivElement>>;\r\n    \r\n    lastMouseMotion: number;\r\n    \r\n    constructor(props: PopupProps) {\r\n        super(props);\r\n        \r\n        this.artGridRef = props.artGridRef;\r\n        this.visible = props.visible;\r\n        this.index = props.index;\r\n        \r\n        this.itemRefs = [];\r\n        \r\n        for (var i = 0; i < 4; i++) {\r\n            this.itemRefs.push(createRef());\r\n        }\r\n        \r\n        this.lastMouseMotion = Date.now();\r\n        \r\n        window.addEventListener(\"mousemove\", this.onMouseMotion);\r\n        \r\n        setTimeout(this.checkMouseMotion, CHECK_MOUSE_MOTION_INTERVAL);\r\n    }\r\n    \r\n    onMouseMotion = () => {\r\n        this.lastMouseMotion = Date.now();\r\n    }\r\n    \r\n    checkMouseMotion = () => {\r\n        if (!this.visible) {\r\n            this.lastMouseMotion = Date.now();\r\n        } else {\r\n            if (Date.now() > this.lastMouseMotion + MOUSE_MOTION_TIMEOUT) {\r\n                // if mouse has not been moved for a while\r\n                \r\n                // and we did not already hide\r\n                if (this.itemRefs[0].current && !this.itemRefs[0].current.classList.contains(\"popup-item-hidden\")) {\r\n                    this.itemRefs.map((item) => {\r\n                        if (item.current) {\r\n                            item.current.classList.add(\"popup-item-hidden\");\r\n                        }\r\n                    });\r\n                }\r\n            } else {\r\n                // if mouse has been moved recently\r\n                \r\n                // and we are still hidden\r\n                if (this.itemRefs[0].current && this.itemRefs[0].current.classList.contains(\"popup-item-hidden\")) {\r\n                    this.itemRefs.map((item) => {\r\n                        if (item.current) {\r\n                            item.current.classList.remove(\"popup-item-hidden\");\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n        }\r\n        \r\n        setTimeout(this.checkMouseMotion, CHECK_MOUSE_MOTION_INTERVAL);\r\n    }\r\n    \r\n    onLeftClicked = () => {\r\n        if (this.index > 0) {\r\n            this.artGridRef.showPopup(this.index - 1);\r\n        }\r\n    }\r\n    \r\n    onRightClicked = () => {\r\n        if (this.index < items.length - 1) {\r\n            this.artGridRef.showPopup(this.index + 1);\r\n        }\r\n    }\r\n    \r\n    onXClicked = () => {\r\n        this.artGridRef.hidePopup();\r\n    }\r\n    \r\n    render(props: PopupProps, state: any, context: any): ComponentChild {\r\n        this.artGridRef = props.artGridRef;\r\n        this.visible = props.visible;\r\n        this.index = props.index;\r\n        \r\n        var item = items[props.index];\r\n        \r\n        var iDesc = {\r\n            __html: item.description\r\n        };\r\n        \r\n        return (\r\n        <div class=\"popup\" style={props.visible ? \"display: block\" : \"display: none\"}>\r\n            \r\n            { item.type == ItemType.Image ?\r\n            <img class=\"popup-content\" src={item.url} alt={item.title}></img>\r\n            :\r\n            <video key={item.url} class=\"popup-content\" muted={true} autoPlay={true} loop={true}>\r\n                <source src={item.url}></source>\r\n            </video>\r\n            }\r\n            \r\n            <div class=\"popup-row\">\r\n                <div class=\"popup-column\">\r\n                    <div ref={this.itemRefs[0]} class=\"top-left popup-item\">\r\n                        <h2>{item.title}</h2>\r\n                        <p dangerouslySetInnerHTML={iDesc}></p>\r\n                    </div>\r\n                    \r\n                    <div ref={this.itemRefs[1]} class=\"bottom-left popup-item\">\r\n                        <a onClick={this.onLeftClicked}>\r\n                            <img src=\"res/special/left-button.png\" alt=\"left\" width={64} height={64} class={this.index <= 0 ? \"disabled\" : \"\"} style=\"object-fit: contain;\"></img>\r\n                        </a>\r\n                    </div>\r\n                </div>\r\n                \r\n                <div class=\"popup-column\">\r\n                    <div ref={this.itemRefs[2]} class=\"top-right popup-item\">\r\n                        <a onClick={this.onXClicked}>\r\n                            <img src=\"res/special/x-button.png\" alt=\"close\" width={64} height={64} style=\"object-fit: contain;\"></img>\r\n                        </a>\r\n                    </div>\r\n                    \r\n                    <div ref={this.itemRefs[3]} class=\"bottom-right popup-item\">\r\n                        <a onClick={this.onRightClicked}>\r\n                            <img src=\"res/special/right-button.png\" alt=\"right\" width={64} height={64} class={this.index >= items.length - 1 ? \"disabled\" : \"\"} style=\"object-fit: contain;\"></img>\r\n                        </a>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        );\r\n    }\r\n}\r\n"],"names":["$1Hdcz","parcelRequire","$4042c3f7d6f74427$export$1fc8f52ad1810e52","$4042c3f7d6f74427$export$17a1664ed1fb5d6f","type","Video","title","description","url","Image","link","$f4e048021dc6e1cd$export$238b7133f33e85a5","Component","constructor","props","super","this","name","item","resizeCallback","contentWidth","contentHeight","imageRef","createRef","videoRef","checkLoaded","current","naturalWidth","onLoad","setTimeout","width","naturalHeight","videoWidth","videoHeight","componentDidMount","addEventListener","setRenderedSize","w","h","height","render","state","context","class","style","marginLeft","onClick","artGridRef","showPopup","index","ref","src","alt","muted","autoPlay","loop","$d32c0476c07f1fde$export$95c189e1ec73bcbd","thisRootRef","item1ref","item2ref","windowInnerWidth","window","innerWidth","resize","i1","i2","totalWidth","clientWidth","denom","eh1","eh2","setState","item1","item2","$1539112f532359e2$export$129a32eedafa97c5","visible","itemRefs","i","push","lastMouseMotion","Date","now","onMouseMotion","checkMouseMotion","classList","contains","map","add","remove","onLeftClicked","onRightClicked","length","onXClicked","hidePopup","iDesc","__html","key","dangerouslySetInnerHTML","$ac10c7814c9ca36f$export$50e0ab684c012c40","popupVisible","popupIndex","itemIndex","pairs","one","two","document","body","overflow","pair","getElementById"],"version":3,"file":"art.2bd5ae89.js.map"}